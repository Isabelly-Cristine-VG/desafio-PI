<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>
<body>
    <div class="container">
        <img src="https://user-images.githubusercontent.com/29473781/180619084-a56960ab-7efa-4e34-9d33-4e3e581d62ff.png" alt="">
        <div class="camposInput">
            <input type="text" id="idPokemon" placeholder="pesquise pelo numero ou nome">
            <div class="shinys">
            <input type="checkbox" name="Versão shiny" id="idShiny">Shiny✨
            </div>


        </div>
        <img src="assets/1.png" alt="" class="imagemBotao" onclick="buscarAPI()">
        <div id="resposta" class="todos"></div>
    </div>

    <div class="containerGatos">
        <h1>Sorteie um gato <button onclick="sortearGato()"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M180-475q-42 0-71-29t-29-71q0-42 29-71t71-29q42 0 71 29t29 71q0 42-29 71t-71 29Zm180-160q-42 0-71-29t-29-71q0-42 29-71t71-29q42 0 71 29t29 71q0 42-29 71t-71 29Zm240 0q-42 0-71-29t-29-71q0-42 29-71t71-29q42 0 71 29t29 71q0 42-29 71t-71 29Zm180 160q-42 0-71-29t-29-71q0-42 29-71t71-29q42 0 71 29t29 71q0 42-29 71t-71 29ZM266-75q-45 0-75.5-34.5T160-191q0-52 35.5-91t70.5-77q29-31 50-67.5t50-68.5q22-26 51-43t63-17q34 0 63 16t51 42q28 32 49.5 69t50.5 69q35 38 70.5 77t35.5 91q0 47-30.5 81.5T694-75q-54 0-107-9t-107-9q-54 0-107 9t-107 9Z"/></svg></button></h1>
        <div class="containerGato">
            <div id="gato"></div>
        </div>
    </div>

</body>
<script>
    async function buscarAPI() {
        let pokemon = idPokemon.value;
        let shiny = idShiny.checked;

        let retorno = await fetch(` https://pokeapi.co/api/v2/pokemon/${pokemon}/`)
            .then((resposta) => resposta.json())
        let imagem = retorno.sprites.versions['generation-v']['black-white'].animated.front_default
        let nome = retorno.name;
        let tipo = retorno.types;
        let tipoOficial = [];
        let mensagem = '';

        console.log("Resposta final: ", tipo);
        for (let i = 0; i < tipo.length; i++) {
            tipoOficial.push(tipo[i].type.name);
        }
        console.log(corTipo(tipoOficial));
        
        if (shiny) {
            let imagemShiny = retorno.sprites.versions['generation-v']['black-white'].animated.front_shiny;
            mensagem = `
        <div class="pokemonEscolhido" style="background-color: ${corTipo(tipoOficial)[0]};">
            <div class="nomePokemon">
                <h3>${nome} </h3>
            </div>
            <img src="${imagemShiny}" alt="">
            <div class="textinho" style="background-color: ${corTipo(tipoOficial)[1]};">
                <h3>Tipo:${tipoOficial}</h3>
            </div>
        </div>
    `;
        } else {
            mensagem = `
        <div class="pokemonEscolhido" style="background-color: ${corTipo(tipoOficial)[0]};">
            <div class="nomePokemon">
                <h3>${nome} </h3>
            </div>
            <img src="${imagem}" alt="">
            <div class="textinho " style="background-color: ${corTipo(tipoOficial)[1]};">
                
                <h3>Tipo:${tipoOficial}</h3>
            </div>
        </div>
    `;
        }


        resposta.innerHTML += mensagem;
    }
</script>
<script src="script.js"></script>

</html>